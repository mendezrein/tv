<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Autoplay and Loop All MP4 Videos</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }

    video {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>

<script>
  window.onload = function() {
    // List of MP4 files
    const mp4Files = [
      '1.mp4',
      '2.mp4',
      // Add more video file names as needed
    ];

    let currentIndex = 0;

    const videoElement = document.createElement('video');
    videoElement.autoplay = true;
    videoElement.muted = true; // Autoplay muted

    function playNextVideo() {
      if (currentIndex < mp4Files.length) {
        videoElement.src = mp4Files[currentIndex];
        currentIndex++;
      } else {
        // If all videos have played, reset to the first video
        currentIndex = 0;
        videoElement.src = mp4Files[currentIndex];
      }

      // Ensure the video starts playing after the source is updated
      videoElement.play().catch(error => {
        // Autoplay was prevented; handle the error here if needed
        console.error('Autoplay was prevented:', error);
        playNextVideo(); // Try to play the next video even if autoplay is prevented
      });
    }

    // Listen for the 'error' event to handle missing or invalid video files
    videoElement.addEventListener('error', function() {
      console.error('Error loading video:', videoElement.src);
      playNextVideo(); // Skip to the next video
    });

    // Listen for the 'ended' event to play the next video
    videoElement.addEventListener('ended', function() {
      playNextVideo();
    });

    document.body.appendChild(videoElement);

    // Start playing the first video
    playNextVideo();
  };
</script>

</body>
</html>
